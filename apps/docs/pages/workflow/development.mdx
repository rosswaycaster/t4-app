## 👨‍💻 Setting up Local Development

### API (Dev)

Create a file called `.dev.vars` in `/packages/api` and add the following environment variables.

The necessary secrets are:

```bash
# For preventing CORS errors
APP_URL=
# For Supabase @link https://supabase.com
JWT_VERIFICATION_KEY=
```

- `APP_URL` is the URL of your Next.js app. For example, `http://localhost:3000`.
- Get your `JWT_VERIFICATION_KEY` from [Supabase](https://supabase.com).

#### Configure Wrangler.toml

> Wrangler is the official CLI tool for Cloudflare Workers.

Replace the `account_id` and `database_id` with your own values.

1. Go to [Cloudflare](https://dash.cloudflare.com) and create an account.
2. Go to "Workers & Pages Overview" and create a new project.
3. Configure GitHub integration.
4. Configure D1 database bindings with your project.
5. Enter your project details in `wrangler.toml`.

#### API Wranger.toml

```toml
name = "t4-api"
compatibility_date = "2023-01-01"
send_metrics = false
account_id = "your_account_id"

[[ d1_databases ]]
binding = "DB"
database_name = "production"
database_id = "your_db_id"
```

### Next.js + Expo (Dev)

#### Environment Variables

Rename `.env.example` to `.env.local` and add your own values.

```bash
# API
NEXT_PUBLIC_API_URL=http://localhost:8787/

# Authentication
# @link https://supabase.com/dashboard for your Supabase API keys
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_PUBLIC_KEY=
```

#### Authentication - Supabase

Head over to [](https://supabase.com/dashboard) for your Supabase API keys:

```bash
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_PUBLIC_KEY=
```

Add the following to dev.vars in the API folder, it can be found as **JWT Secret** in API Settings in Supabase:

```bash
JWT_VERIFICATION_KEY=
```
